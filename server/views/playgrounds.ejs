<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="/css/sidebar.css">
    <link rel="stylesheet" href="/css/playgrounds.css">
    <title>Play Grounds</title>
</head>



<body>

    <% if(currentUser) { %>

        <%- include('./partials/sidebar') %>


            <div class="main-content">

                <div class="top-bar">

                    <div class="Playground">
                        <button class="create" id="createPlaygroundBtn"><i class="fa-solid fa-circle-plus"></i>Create a
                            Play ground</button>
                    </div>

                    <div class="more">
                        <i class="fa-solid fa-ellipsis-vertical"></i>
                    </div>

                </div>

                <div class="popup-container" id="popupContainer">
                    <div class="popup-content">
                        <h2>Enter User Details</h2>
                        <div class="input-label">User 1:</div>
                        <input type="text" class="input-field" id="user1Name" placeholder="Username">
                        <input type="text" class="input-field" id="user1Skills" placeholder="Skills">
                        <input type="text" class="input-field" id="user1Interests" placeholder="Interests">

                        <div class="input-label" style="text-align: left;">User 2:</div>
                        <input type="text" class="input-field" id="user2Name" placeholder="Username">
                        <input type="text" class="input-field" id="user2Skills" placeholder="Skills">
                        <input type="text" class="input-field" id="user2Interests" placeholder="Interests">

                        <button class="submit-button" onclick="submitForm()">Submit</button>
                    </div>
                </div>

                <div id="messageContainer">
                    User details were taken.<i class="fa-solid fa-xmark"></i>
                </div>

                <div class="playgrounds-section">

                    <div class="title">
                        <h3>PlayGrounds</h3>
                    </div>

                    <div class="types">
                        <div class="active">
                            <h5>Active</h5>
                            <div class="underline"></div>
                        </div>

                        <div class="archive">
                            <h5>Archcive</h5>
                        </div>
                    </div>

                    <div class="playgrounds">

                        <!-- <form action="/playground" method="get"> -->
                        <div class="playground">
                            <h4><i class="fa-solid fa-link"></i>user2</h4>
                            <form action="/playground" method="get">
                                <button id="ch-button"> <i class="fa-solid fa-chevron-right" id="chevron"></i>
                                </button>
                            </form>
                        </div>
                        <!-- </form> -->

                    </div>

                </div>


            </div>

            <% } else{ %>
                <p>You are not logged in.</p>
                <% } %>


                    <script>
                        const createPlaygroundBtn = document.getElementById('createPlaygroundBtn');
                        const popupContainer = document.getElementById('popupContainer');
                        const messageContainer = document.getElementById('messageContainer');

                        createPlaygroundBtn.addEventListener('click', () => {
                            popupContainer.style.display = 'flex';
                            messageContainer.style.display = 'none'; // Hide the message when the popup is displayed.
                        });

                        function submitForm() {
                            // Get user input values
                            const user1Name = document.getElementById('user1Name').value;
                            const user1Skills = document.getElementById('user1Skills').value;
                            const user1Interests = document.getElementById('user1Interests').value;
                            const user2Name = document.getElementById('user2Name').value;
                            const user2Skills = document.getElementById('user2Skills').value;
                            const user2Interests = document.getElementById('user2Interests').value;

                            // Handle user data as needed (e.g., send it to a server)

                            // Close the popup
                            popupContainer.style.display = 'none';

                            // Display the success message as a dialog box
                            messageContainer.style.display = 'block';

                            // Automatically hide the message after 3 seconds (3000 milliseconds)
                            setTimeout(() => {
                                messageContainer.style.display = 'none';
                            }, 3000);
                        }
                    </script>

                    <%- include('./partials/footer') %>