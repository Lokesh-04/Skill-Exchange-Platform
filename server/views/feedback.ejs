<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="/css/sidebar.css">
    <link rel="stylesheet" href="/css/PlayGround.css">
    <link rel="stylesheet" href="/css/feedback.css">
    <title>Room</title>
</head>
<body>

<% if(currentUser) { %>

    <%- include('./partials/sidebar') %>


        <div class="main-content">

            <!-- <div class="go-back">
                <i class="fa-solid fa-arrow-left"></i>
            </div> -->

            <div class="feedback-form">
                <div class="rating-box">
                    <header>How was your experience?</header>
                    <div class="stars">
                      <i class="fa-solid fa-star"></i>
                      <i class="fa-solid fa-star"></i>
                      <i class="fa-solid fa-star"></i>
                      <i class="fa-solid fa-star"></i>
                      <i class="fa-solid fa-star"></i>
                    </div>
                    <br><br>
                    <div class="feedback-box">
                      <textarea id="feedback" rows="4" cols="50" placeholder="Enter your feedback"></textarea>
                  </div>
                  <button onclick="submitFeedback()" style="background-color: #333; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer;">Submit</button>
                </div>
            </div>
           

        </div>

        <% } else{ %>
            <p>You are not logged in.</p>
            <% } %>


                <script>
                       // Select all elements with the "i" tag and store them in a NodeList called "stars"
const stars = document.querySelectorAll(".stars i");
let selectedRating = 0; // Initialize selectedRating to 0

// Loop through the "stars" NodeList
stars.forEach((star, index1) => {
  // Add an event listener that runs a function when the "click" event is triggered
  star.addEventListener("click", () => {
    // Set the selectedRating to the index of the clicked star + 1
    selectedRating = index1 + 1;
    
    // Loop through the "stars" NodeList Again
    stars.forEach((star, index2) => {
      // Add the "active" class to the clicked star and any stars with a lower index
      // and remove the "active" class from any stars with a higher index
      index1 >= index2 ? star.classList.add("active") : star.classList.remove("active");
    });
  });
});

function submitFeedback() {
  const feedbackText = document.getElementById("feedback").value;
  alert(`Rating: ${selectedRating}\nFeedback: ${feedbackText}`);
}
                </script>

                <%- include('./partials/footer') %>